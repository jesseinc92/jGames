{% extends 'base.html' %}

{% block title %}{{ game.get('name') }}{% endblock %}

{% block content %}
    <div id="game-details-landing">
        <p>{{ game.get('name') }}</p>

        <form id="add-game" action="/games/{{ game.get('guid') }}/add" method="POST">
            <button class="button">Add to List</button>
        </form>

        <p>{{ game.get('original_release_date') }}</p>
        <div id="game-desc">{{ game.get('description') }}</div>

        <div>
            <h2>Images</h2>
            {% if game.images %}
                {% for img in game.images %}
                <div class="game-image">
                    <a href="{{ img.get('original') }}" target="_blank">
                        <img src="{{ img.get('original') }}" alt="{{ game.title }} image">
                    </a>
                </div>
                {% endfor %}
            {% else %}
            <p>No images found!</p>
            {% endif %}
        </div>

        <div>
            <h2>Videos</h2>
            {% if game.videos %}
                {% for vid in game.videos %}
                <div class="game-video" data-url="{{ vid.get('api_detail_url') }}">
                    <p>{{ vid.get('name') }}</p>
                    <a href="/games/video/2300-{{ vid.get('id') }}" target="_blank">
                        <img src="https://koreatkdnutley.com/wp-content/uploads/sites/132/2015/12/video-placeholder.png" alt="video thumbnail">
                    </a>
                </div>
                {% endfor %}
            {% else %}
            <p>No videos found!</p>
            {% endif %}
        </div>

        <div>
            <h2>Similar Games</h2>
            <ul>
                {% if game.get('similar_games') %}
                    {% for sim in game.get('similar_games') %}
                    <li><a href="/games/3030-{{ sim.get('id') }}">{{ sim.get('name') }}</a></li>
                    {% endfor %}
                {% else %}
                <h3>Nothing found here!</h3>
                {% endif %}
            </ul>
        </div>
    </div>
{% endblock %}